<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.yguilai.com</id>
    <title>ç‡•å½’æ¥åšå®¢</title>
    <updated>2020-06-08T07:37:02.529Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://blog.yguilai.com"/>
    <link rel="self" href="https://blog.yguilai.com/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://blog.yguilai.com/images/avatar.png</logo>
    <icon>https://blog.yguilai.com/favicon.ico</icon>
    <rights>All rights reserved 2020, ç‡•å½’æ¥åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[Typescriptä¹‹å°è£…Axios]]></title>
        <id>https://blog.yguilai.com/post/ojQKZXlfE/</id>
        <link href="https://blog.yguilai.com/post/ojQKZXlfE/">
        </link>
        <updated>2020-06-05T08:50:48.000Z</updated>
        <content type="html"><![CDATA[<p>ç›´æ¥ä¸Šä»£ç </p>
<h4 id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–</h4>
<pre><code class="language-bash">yarn add axios # æˆ–è€… npm install axios -S
</code></pre>
<h4 id="encapsulation">Encapsulation</h4>
<pre><code class="language-ts">// config/index.ts
export default {
  api: {
    devApiBaseUrl: '/',             // å¼€å‘ç¯å¢ƒbase url
    proApiBaseUrl: '/api/v1'   // ç”Ÿäº§ç¯å¢ƒbase url
  }
}
</code></pre>
<pre><code class="language-ts">// utils/request.ts
import axios, {AxiosInstance, AxiosRequestConfig, AxiosPromise, AxiosResponse} from 'axios'
import config from '@/config'

const {api: {devApiBaseUrl, proApiBaseUrl}} = config
const apiBaseUrl = process.env.NODE_ENV === 'production' ? proApiBaseUrl : devApiBaseUrl

// ä¿®æ”¹é»˜è®¤çš„content-type
axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'

/**
 * ç»Ÿä¸€è¿”å›çš„æ•°æ®æ ¼å¼, æ ¹æ®å…·ä½“ä¸šåŠ¡ä¿®æ”¹
 */
export interface ResponseData {
  code: number
  msg: string
  data?: any
}

class HttpRequest {
  constructor(public baseUrl: string = apiBaseUrl) {
    this.baseUrl = baseUrl
  }

  public request(options: AxiosRequestConfig): AxiosPromise {
    const instance: AxiosInstance = axios.create()
    options = this.mergeConfig(options)
    this.interceptors(instance, options.url)
    return instance(options)
  }

  /**
   * é…ç½®æ‹¦æˆªå™¨
   * @param instance
   * @param url
   */
  private interceptors(instance: AxiosInstance, url?: string) {
    instance.interceptors.request.use((config: AxiosRequestConfig) =&gt; {
      // å¯ä»¥åœ¨è¿™é…ç½®token è¯·æ±‚å¤´
      return config
    }, error =&gt; Promise.reject(error))

    instance.interceptors.response.use((res: AxiosResponse) =&gt; {
      const {data} = res
      const {code, msg} = data
      // è¿™é‡Œè®¾ç½®è¿”å›çŠ¶æ€ç ä¸º0è¡¨ç¤ºæˆåŠŸ, è¯·æ ¹æ®å…·ä½“ä¸šåŠ¡ä¿®æ”¹
      if (code !== 0) {
        // TODO ä½¿ç”¨æ¶ˆæ¯çª—æç¤ºé”™è¯¯
        console.error(msg)
      }
      return res
    }, error =&gt; Promise.reject(error))
  }

  /**
   * åˆå¹¶åŸºç¡€é…ç½®
   * @param options
   */
  private mergeConfig(options: AxiosRequestConfig): AxiosRequestConfig {
    return Object.assign({baseURL: this.baseUrl}, options)
  }
}

export default HttpRequest
</code></pre>
<h4 id="how-to-use">How to use</h4>
<pre><code class="language-ts">// api/index.ts
import HttpRequest from &quot;@/utils/request&quot;
export * from '@/utils/request'
export default new HttpRequest()
</code></pre>
<pre><code class="language-ts">// api/user.ts
import axios, {ResponseData} from './index'
import {AxiosPromise} from 'axios'

interface LoginReqArgInterface {
  username: string
  password: number | string
}

// ä¼ å…¥æ³›å‹å˜é‡ResponseData, å¯ä»¥åœ¨æ“ä½œè¿”å›ç»“æœé›†æ—¶, è·å¾—ä»£ç æç¤º
export const loginApi = (data: LoginReqArgInterface): AxiosPromise&lt;ResponseData&gt; =&gt; {
  return axios.request({
    url: '/user/login',
    data,
    method: 'POST'
  })
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Typescriptä¹‹tsconfig.jsoné…ç½®]]></title>
        <id>https://blog.yguilai.com/post/oiRKwJIS-/</id>
        <link href="https://blog.yguilai.com/post/oiRKwJIS-/">
        </link>
        <updated>2020-06-02T13:28:01.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<h3 id="tsconfigjsonçš„å¯é…ç½®é¡¹">tsconfig.jsonçš„å¯é…ç½®é¡¹</h3>
<pre><code class="language-json">{
    &quot;compileOnSave&quot;: true,
    &quot;files&quot;: [],
    &quot;include&quot;: [],
    &quot;exclude&quot;: [],
    &quot;extends&quot;: &quot;&quot;,
    &quot;compilerOptions&quot;: {}
}
</code></pre>
<h3 id="compileonsave"><code>compileOnSave</code></h3>
<p><code>compileOnSave</code>çš„å€¼æ˜¯<code>true</code>æˆ–<code>false</code>. å¦‚æœè®¾ä¸º<code>true</code>, åœ¨ç¼–è¾‘æ–‡ä»¶ä¿å­˜çš„æ—¶å€™, ç¼–è¾‘å™¨ä¼šæ ¹æ®<code>tsconfig.json</code>çš„é…ç½®é‡æ–°ç”Ÿæˆæ–‡ä»¶.(éœ€è¦ç¼–è¾‘å™¨æ”¯æŒ)</p>
<h3 id="files"><code>files</code></h3>
<p><code>files</code>å¯ä»¥é…ç½®ä¸€ä¸ªæ•°ç»„åˆ—è¡¨, é‡Œé¢åŒ…å«æŒ‡å®šæ–‡ä»¶çš„ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„. ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ideæ—¶å€™åªä¼šç¼–è¯‘åŒ…å«åœ¨filesä¸­åˆ—å‡ºçš„æ–‡ä»¶. å¦‚æœä¸æŒ‡å®š, åˆ™å–å†³äºæœ‰æ²¡æœ‰è®¾ç½®<code>include</code>é€‰é¡¹; å¦‚æœæ²¡æœ‰<code>include</code>é€‰é¡¹, åˆ™é»˜è®¤ä¼šç¼–è¯‘æ ¹ç›®å½•ä»¥åŠæ‰€æœ‰å­ç›®å½•çš„æ–‡ä»¶. è¿™é‡Œåˆ—å‡ºçš„è·¯å¾„å¿…é¡»æ˜¯æŒ‡å®šæ–‡ä»¶, è€Œä¸æ˜¯æŸä¸ªæ–‡ä»¶å¤¹, è€Œä¸”ä¸èƒ½ä½¿ç”¨<code>*</code>ã€<code>?</code>ã€<code>**/</code>ç­‰é€šé…ç¬¦</p>
<h3 id="include"><code>include</code></h3>
<p>æŒ‡å®šè¦ç¼–è¯‘çš„è·¯å¾„åˆ—è¡¨ï¼Œä½†å’Œ files çš„åŒºåˆ«åœ¨äºï¼Œè¿™é‡Œçš„è·¯å¾„å¯ä»¥æ˜¯æ–‡ä»¶å¤¹ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œå¯ä»¥ä½¿<br>
ç”¨ç›¸å¯¹å’Œç»å¯¹è·¯å¾„ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨é€šé…ç¬¦. æ¯”å¦‚ &quot;./src&quot; å³è¡¨ç¤ºè¦ç¼–è¯‘ src æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä»¥åŠå­æ–‡ä»¶å¤¹çš„æ–‡ä»¶.</p>
<h3 id="exclude"><code>exclude</code></h3>
<p>è¡¨ç¤ºè¦æ’é™¤çš„ã€ä¸ç¼–è¯‘çš„æ–‡ä»¶ï¼Œå®ƒä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåˆ—è¡¨ï¼Œè§„åˆ™å’Œ include ä¸€æ ·ï¼Œå¯ä»¥æ˜¯æ–‡ä»¶å¯ä»¥æ˜¯æ–‡ä»¶å¤¹, å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦.</p>
<h3 id="extends"><code>extends</code></h3>
<p>é€šè¿‡æŒ‡å®šä¸€ä¸ªå…¶å®ƒçš„ tsconfig.json æ–‡ä»¶è·¯å¾„ï¼Œæ¥ç»§æ‰¿è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œçš„é…ç½®ï¼Œç»§æ‰¿æ¥çš„æ–‡ä»¶é…ç½®ä¼šè¦†<br>
ç›–å½“å‰æ–‡ä»¶å®šä¹‰çš„é…ç½®. TSåœ¨ 3.2ç‰ˆæœ¬å¼€å§‹ï¼Œæ”¯æŒç»§æ‰¿ä¸€ä¸ªæ¥è‡ª Node.jsåŒ…çš„tsconfig.json é…ç½®æ–‡ä»¶.</p>
<h3 id="compileroptions"><code>compilerOptions</code></h3>
<p>åŒ…å«å¾ˆå¤šå¯é…ç½®é¡¹, ç”¨æ¥è®¾ç½®ç¼–è¯‘é€‰é¡¹.</p>
<ul>
<li>
<p>target<br>
ç”¨äºæŒ‡å®šç¼–è¯‘ä¹‹åçš„ç‰ˆæœ¬ç›®æ ‡, å¯é€‰å€¼æœ‰: <code>ES3ï¼ˆé»˜è®¤å€¼ï¼‰</code>ã€<code>ES5</code>ã€<code>ES2015</code>ã€<code>ES2016</code>ã€<code>ES2017</code>ã€<code>ESNEXT</code>. å¦‚æœä¸é…ç½®, åˆ™é»˜è®¤ä½¿ç”¨ES3ç‰ˆæœ¬, å¦‚æœè®¾ä¸ºESNEXT, åˆ™ä½¿ç”¨æœ€æ–°çš„ESè§„èŒƒç‰ˆæœ¬.</p>
</li>
<li>
<p>module<br>
ç”¨äºæŒ‡å®šè¦ä½¿ç”¨çš„æ¨¡å—æ ‡å‡†, å¯é€‰å€¼: <code>commonjs</code>ã€<code>amd</code>ã€<code>system</code>ã€<code>umd</code>ã€<code>s2015(æˆ–å†™ es6)</code>. å¦‚æœä¸è®¾ç½®moduleé€‰é¡¹, åˆ™åˆ¤æ–­<code>target</code>é€‰é¡¹, å¦‚æœ<code>target</code>æ¸²æŸ“è®¾ä¸º<code>ES6</code>, åˆ™moduleé»˜è®¤ä¸º<code>ES6</code>, å¦åˆ™å°±æ˜¯<code>commonjs</code></p>
</li>
<li>
<p>lib<br>
ç”¨äºæŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶, å¦‚æœä½ è¦ä½¿ç”¨ä¸€äº›ES6çš„æ–°è¯­æ³•, åˆ™éœ€è¦å¼•å…¥ES6/ES2015è¿™ä¸ªåº“, å¦‚æœæ²¡æœ‰æŒ‡å®š lib é…ç½®ï¼Œé»˜è®¤ä¼šåŠ è½½ä¸€äº›åº“ï¼Œè€ŒåŠ è½½ä»€ä¹ˆåº“æ˜¯å— target å½±å“çš„ã€‚å¦‚æœ target ä¸ºES5ï¼Œé»˜è®¤åŒ…å«çš„åº“æœ‰ DOMã€ ES5 å’Œ ScriptHost ï¼›å¦‚æœ target æ˜¯ ES6ï¼Œé»˜è®¤å¼•å…¥çš„åº“æœ‰DOMã€ES6ã€DOM.Iterable å’Œ ScriptHost.</p>
</li>
<li>
<p>allowJs<br>
allowJs è®¾ç½®çš„å€¼ä¸º true æˆ– falseï¼Œç”¨æ¥æŒ‡å®šæ˜¯å¦å…è®¸ç¼–è¯‘ JS æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ falseï¼Œå³ä¸ç¼–è¯‘ JS æ–‡ä»¶.</p>
</li>
</ul>
<hr>
<p>æœªå®Œå¾…ç»­...</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Typescriptä¹‹æ³›å‹çº¦æŸ]]></title>
        <id>https://blog.yguilai.com/post/ZUto8nM6t/</id>
        <link href="https://blog.yguilai.com/post/ZUto8nM6t/">
        </link>
        <updated>2020-06-02T11:46:41.000Z</updated>
        <summary type="html"><![CDATA[<p>æ³›å‹çº¦æŸå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç±»å‹å’Œextendså¯¹æ³›å‹è¿›è¡Œçº¦æŸ</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ³›å‹çº¦æŸå°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç±»å‹å’Œextendså¯¹æ³›å‹è¿›è¡Œçº¦æŸ</p>
<!-- more -->
<h3 id="æ³›å‹çº¦æŸ">æ³›å‹çº¦æŸ</h3>
<p>ä¾‹å­:</p>
<pre><code class="language-ts">interface WithLength {
    length: number
}
const getLength = &lt;T extends WithLength&gt;(param: T): number =&gt; {
    return param.length
}
getLength(&quot;abcdefg&quot;)    // 7
getLength([1, 2, 3])        // 3
getLength({ length: 5 }) // 5
getLength(123)             // error ç±»å‹â€œ123â€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œWithLengthâ€çš„å‚æ•°
</code></pre>
<p>ä»ä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹åˆ°, æ³›å‹å˜é‡<code>T</code>å—åˆ°æ¥å£<code>WithLenght</code>çš„çº¦æŸ, ä¸ç®¡å®ƒæ˜¯ä»€ä¹ˆç±»å‹, ä½†å¿…é¡»æœ‰ä¸€ä¸ªlengthå±æ€§.</p>
<h3 id="æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°">æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°</h3>
<p>ä¾‹å­:</p>
<pre><code class="language-ts">const getProp = (obj, propName) =&gt; {
    return obj[propName]
}
const obj = { a: 'aaa', b: 'bbb' }
getProp(obj, 'c')   // undefined
</code></pre>
<p>ä»ä¸Šé¢è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡º, å½“è·å–è¿™ä¸ªå¯¹è±¡çš„<code>'c'</code>å±æ€§æ—¶, å°±ä¼šå¾—åˆ°<code>undefined</code>. è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°ç´¢å¼•ç±»å‹<code>keyof</code>ç»“åˆæ³›å‹æ¥å®ç°å¯¹è¿™ä¸ªé—®é¢˜çš„æ£€æŸ¥</p>
<pre><code class="language-ts">const getProp = &lt;T, K extends keyof T&gt;(obj: T, propName: K) =&gt; {
    return obj[propName]
}
const obj = { a: 'aaa', b: 'bbb' }
getProp(obj, 'c')   // ç±»å‹â€œ&quot;c&quot;â€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œ&quot;a&quot; | &quot;b&quot;â€çš„å‚æ•°
</code></pre>
<blockquote>
<p><code>keyof</code>å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç”±æ³›å‹å˜é‡<code>T</code>çš„å±æ€§åæ„æˆçš„è”åˆç±»å‹, å› æ­¤<code>K</code>å°±è¢«çº¦æŸä¸ºäº†åªèƒ½æ—¶<code>'a'</code>æˆ–<code>'b'</code>, æ‰€ä¼ å…¥å­—ç¬¦ä¸²<code>'c'</code>æ—¶, tså°±ä¼šæ£€æµ‹å‡ºé”™è¯¯</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Typescriptä¹‹ç±»å‹æ–­è¨€]]></title>
        <id>https://blog.yguilai.com/post/Zwy9o_K7j/</id>
        <link href="https://blog.yguilai.com/post/Zwy9o_K7j/">
        </link>
        <updated>2020-06-01T13:48:50.000Z</updated>
        <summary type="html"><![CDATA[<p>ä¸¤ç§å†™æ³•, ä¸€ç§æ˜¯<code>&lt;type&gt;value</code>, ä¸€ç§æ˜¯<code>value as type</code></p>
]]></summary>
        <content type="html"><![CDATA[<p>ä¸¤ç§å†™æ³•, ä¸€ç§æ˜¯<code>&lt;type&gt;value</code>, ä¸€ç§æ˜¯<code>value as type</code></p>
<!-- more -->
<p>ä¾‹å­:</p>
<pre><code class="language-typescript">const getStrLength = (target: string | number): number =&gt; {
    if ((&lt;string&gt;targer).length) {  // è¿™ç§å†™æ³•åœ¨jsxä¸­ä¸æ”¯æŒ, åŒæ—¶ä¹Ÿæ˜¯tslintä¸å»ºè®®çš„å†™æ³•
        return (target as string).length    // å»ºè®®å†™æ³•
    } else {
        return target.toString().length
    }
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Typescriptä¹‹tsè¡¥å……çš„å…­ä¸ªç±»å‹]]></title>
        <id>https://blog.yguilai.com/post/zpYjIzrB_/</id>
        <link href="https://blog.yguilai.com/post/zpYjIzrB_/">
        </link>
        <updated>2020-06-01T13:26:04.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<h4 id="å…ƒç»„">å…ƒç»„</h4>
<ul>
<li>å…ƒç»„å¯ä»¥çœ‹ä½œæ˜¯æ•°ç»„çš„æ‹“å±•, å®ƒè¡¨ç¤ºå·²çŸ¥çš„å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„</li>
<li>é€šè¿‡<code>let tuple: [string, number, boolean]</code>çš„æ–¹å¼å®šä¹‰</li>
<li>å„ä¸ªä½ç½®ä¸Šçš„å…ƒç´ ç±»å‹éƒ½è¦å¯¹åº”, å…ƒç´ ä¸ªæ•°ä¹Ÿè¦ä¸€è‡´</li>
</ul>
<h4 id="æšä¸¾">æšä¸¾</h4>
<ul>
<li>tsåœ¨esåŸæœ‰ç±»å‹é¸¡å‡ºä¸ŠåŠ å…¥æšä¸¾ç±»å‹</li>
</ul>
<h4 id="any">Any</h4>
<ul>
<li>ç¨‹åºæœ‰æ—¶æ˜¯å¤šå˜çš„, æœ‰æ—¶æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç æ—¶å¹¶ä¸èƒ½æ¸…æ¥šçš„çŸ¥é“ä¸€ä¸ªå€¼åˆ°åº•æ—¶ä»€ä¹ˆç±»å‹, è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°anyç±»å‹, eg: <code>let dom: any = document.getElementById('myId')</code></li>
<li>å¯ä»¥åœ¨å®šä¹‰æ•°ç»„ç±»å‹æ—¶ä½¿ç”¨anyæ¥æŒ‡å®šæ•°ç»„ä¸­çš„å…ƒç´ ç±»å‹ä¸ºä»»æ„ç±»å‹</li>
<li>ä¸åº”è¯¥æ»¥ç”¨anyç±»å‹, å¦‚æœä»»ä½•å€¼éƒ½æŒ‡å®šä¸ºanyç±»å‹, é‚£ä¹ˆtypescriptå°±å˜æˆäº†&quot;anyscript&quot;ğŸ˜‚</li>
</ul>
<h4 id="void">void</h4>
<ul>
<li>voidå’Œanyç›¸å, anyè¡¨ç¤ºä»»æ„ç±»å‹, voidåˆ™æ˜¯è¡¨ç¤ºæ²¡æœ‰ä»»æ„ç±»å‹</li>
<li>å®šä¹‰å‡½æ•°, æ²¡æœ‰è¿”å›å€¼æ—¶å¸¸ç”¨åˆ°</li>
<li>voidç±»å‹çš„å˜é‡åªèƒ½èµ‹å€¼ä¸º<code>undefined</code>å’Œ<code>null</code></li>
</ul>
<h4 id="nerver">nerver</h4>
<ul>
<li>neverç±»å‹æŒ‡é‚£äº›æ°¸ä¸å­˜åœ¨çš„ç±»å‹</li>
<li>é™¤å®ƒè‡ªèº«å¤–, ä»»ä½•ç±»å‹éƒ½ä¸èƒ½èµ‹å€¼ç»™neverç±»å‹</li>
</ul>
<h4 id="unknown">unknown</h4>
<ul>
<li>unknownå’Œanyå¾ˆåƒ, ä½†æ˜¯unknownç›¸å¯¹ä¸anyæ˜¯å®‰å…¨çš„</li>
</ul>
<h4 id="æ‹“å±•ç±»å‹">æ‹“å±•ç±»å‹</h4>
<ul>
<li>äº¤å‰ç±»å‹
<ul>
<li>ä½¿ç”¨<code>&amp;</code>ç¬¦å·å®šä¹‰, è¢«<code>&amp;</code>ç¬¦å·é“¾æ¥çš„å¤šä¸ªç±»å‹æ„æˆä¸€ä¸ªäº¤å‰ç±»å‹</li>
</ul>
</li>
<li>è”åˆç±»å‹
<ul>
<li>è”åˆç±»å‹æ˜¯è¦æ±‚æ˜¯è¦ç¬¦åˆè”åˆç±»å‹ä¸­ä»»æ„ä¸€ç§ç±»å‹å³å¯, ä½¿ç”¨<code>|</code>ç¬¦å·å®šä¹‰</li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[yarn create react-app æŠ¥é”™æ–‡ä»¶åã€ç›®å½•åæˆ–å·æ ‡è¯­æ³•ä¸æ­£ç¡®]]></title>
        <id>https://blog.yguilai.com/post/x1hPVO9h_/</id>
        <link href="https://blog.yguilai.com/post/x1hPVO9h_/">
        </link>
        <updated>2020-05-27T07:29:09.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ€è¿‘å­¦ä¹ react, çœ‹å®˜æ–¹æ–‡æ¡£åˆ©ç”¨yarnæ–°å»ºé¡¹ç›®è¿è¡Œ<code>yarn create react-app my-app</code>ç›´æ¥æŠ¥é”™</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ€è¿‘å­¦ä¹ react, çœ‹å®˜æ–¹æ–‡æ¡£åˆ©ç”¨yarnæ–°å»ºé¡¹ç›®è¿è¡Œ<code>yarn create react-app my-app</code>ç›´æ¥æŠ¥é”™</p>
<!-- more -->
<p>çœ‹ç½‘ä¸Šè§£å†³åŠæ³•å¾ˆå¤šéƒ½æ˜¯ä¿®æ”¹<code>create-react-app.cmd</code>, ç„¶åæ·»åŠ ç¯å¢ƒå˜é‡, æ„Ÿè§‰å¾ˆä¸<code>ä¼˜é›…</code></p>
<p>æŸ¥äº†å¾ˆå¤šèµ„æ–™å, å‘ç°ä¸»è¦åŸå› æ˜¯æˆ‘ç”¨npmå…¨å±€å®‰è£…çš„yarn, å¯¼è‡´yarnçš„binç›®å½•ä¸å®‰è£…ç›®å½•åœ¨ä¸åŒåˆ†åŒºğŸ™„</p>
<p>æŸ¥çœ‹yarnçš„binç›®å½•</p>
<pre><code class="language-bash">yarn global bin
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://blog.yguilai.com/post-images/1590565038111.png" alt="" loading="lazy"></figure>
<p>æŸ¥çœ‹yarnçš„å®‰è£…ç›®å½•</p>
<pre><code class="language-bash">yarn global dir
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://blog.yguilai.com/post-images/1590565172092.png" alt="" loading="lazy"></figure>
<blockquote>
<p>è¿™é‡Œæ˜¯æˆ‘å·²ç»ä¿®æ”¹äº†çš„, åŸæ¥æ˜¯åœ¨Cç›˜</p>
</blockquote>
<p>å¦‚æœå‘ç°binç›®å½•ä¸å®‰è£…ç›®å½•ä¸åœ¨åŒä¸€ä¸ªåˆ†åŒº, å°±å°†yarnçš„å®‰è£…ä½ç½®ä¿®æ”¹åˆ°åŒä¸€åˆ†åŒº</p>
<pre><code class="language-bash">yarn config set global-folder &quot;D:\Develop\yarn\global&quot;
yarn config set cache-folder &quot;D:\Develop\yarn\cache&quot;
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://blog.yguilai.com/post-images/1590565331006.png" alt="" loading="lazy"></figure>
<p>å†è¿è¡Œ<code>yarn create react-app my-app</code>å¯ä»¥å‘ç°å·²ç»æå®šäº†ğŸ‘Œ</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Win10è§£å†³æ— æ³•è°ƒèŠ‚å±å¹•äº®åº¦é—®é¢˜]]></title>
        <id>https://blog.yguilai.com/post/TKVP2Etmw/</id>
        <link href="https://blog.yguilai.com/post/TKVP2Etmw/">
        </link>
        <updated>2020-05-20T12:00:17.000Z</updated>
        <summary type="html"><![CDATA[<p>ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–¹æ³•, å¦‚: é‡è£…é›†æ˜¾é©±åŠ¨ã€ä¿®æ”¹æ³¨å†Œè¡¨, éƒ½æ²¡ç”¨</p>
]]></summary>
        <content type="html"><![CDATA[<p>ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–¹æ³•, å¦‚: é‡è£…é›†æ˜¾é©±åŠ¨ã€ä¿®æ”¹æ³¨å†Œè¡¨, éƒ½æ²¡ç”¨</p>
<!-- more -->
<p>å¦‚æœå®‰è£…äº†TeamViewer, å‘æ—¥è‘µä¹‹ç±»çš„è¿œç¨‹æ§åˆ¶è½¯ä»¶, ä¼šè‡ªåŠ¨å®‰è£…ç›‘è§†å™¨é©±åŠ¨</p>
<p>è§£å†³åŠæ³•:<br>
Win+Ræ‰“å¼€è¿è¡Œçª—å£, è¾“å…¥<code>devmgmt.msc</code>, å›è½¦æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨é¢æ¿, æ‰¾åˆ°ç›‘è§†å™¨</p>
<p>å¯ä»¥å‘ç°ç›‘è§†å™¨é©±åŠ¨æ˜¾ç¤ºä¸º<code>PnP-Monitor(Standard)</code> (å‚å•†ä¸ºTeamViewer) æˆ–è€…<code>Generic Monitor (orayOPMS)</code>(å‚å•†ä¸ºå‘æ—¥è‘µ)<br>
<img src="https://blog.yguilai.com/post-images/1589976540518.jpg" alt="" loading="lazy"></p>
<p>å³é”®é€‰ä¸­å¯¹åº”é©±åŠ¨, æ‰“å¼€<code>å±æ€§</code> &gt; <code>é©±åŠ¨ç¨‹åº</code> &gt; <code>æ›´æ–°é©±åŠ¨ç¨‹åº</code> &gt; <code>æµè§ˆè®¡ç®—æœºä»¥æŸ¥æ‰¾é©±åŠ¨ç¨‹åºè½¯ä»¶</code> &gt; <code>ä»è®¡ç®—æœºçš„è®¾å¤‡é©±åŠ¨ç¨‹åºåˆ—è¡¨ä¸­é€‰å–</code> &gt; é€‰ä¸­<code>é€šç”¨å³æ’å³ç”¨ç›‘è§†å™¨</code>, ç‚¹å‡»ä¸‹ä¸€æ­¥å®‰è£…å³å¯, æœ€å¥½é‡å¯ä¸€ä¸‹ç”µè„‘</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Goæ—¥å¿—åº“Zapä¸lumberjacké…ç½®]]></title>
        <id>https://blog.yguilai.com/post/L_yuiYNgS/</id>
        <link href="https://blog.yguilai.com/post/L_yuiYNgS/">
        </link>
        <updated>2020-05-19T14:20:02.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-go">package core

import (
	&quot;go-gin-api-example/core/global&quot;
	&quot;go.uber.org/zap&quot;
	&quot;go.uber.org/zap/zapcore&quot;
	&quot;gopkg.in/natefinch/lumberjack.v2&quot;
	&quot;os&quot;
	&quot;strings&quot;
)

func initZapLogger() {
	var logger *zap.Logger
	core := zapcore.NewCore(newZapEncoder(), newWriteSyncer(), newZapLevel())

	// set initialize fields
	field := zap.Fields(zap.String(&quot;ApplicationName&quot;, global.CONFIG.App.Name))

	// judge current environment is pro?
	if global.CONFIG.App.Env != &quot;pro&quot; {
		// enable dev mode
		caller := zap.AddCaller()
		development := zap.Development()
		logger = zap.New(core, caller, development, field)
	} else {
		logger = zap.New(core, field)
	}

	// save as a global variable
	global.LOG = logger
}

func newWriteSyncer() zapcore.WriteSyncer {
	if !global.CONFIG.Log.EnableLogFile {
		return zapcore.NewMultiWriteSyncer(zapcore.AddSync(os.Stdout))
	} else {
		logConfig := global.CONFIG.Log
		hook := lumberjack.Logger{
			Filename:   logConfig.File.Path + string(os.PathSeparator) + global.CONFIG.App.Name + &quot;.log&quot;,
			MaxSize:    logConfig.File.MaxSize,
			MaxBackups: logConfig.File.MaxBackups,
			MaxAge:     logConfig.File.MaxAge,
			Compress:   logConfig.File.Compress,
		}
		return zapcore.NewMultiWriteSyncer(zapcore.AddSync(os.Stdout), zapcore.AddSync(&amp;hook))
	}
}

func newZapEncoder() zapcore.Encoder {
	encoderCfg := zapcore.EncoderConfig{
		TimeKey:        &quot;time&quot;,
		LevelKey:       &quot;level&quot;,
		NameKey:        &quot;logger&quot;,
		CallerKey:      &quot;lineNum&quot;,
		MessageKey:     &quot;msg&quot;,
		StacktraceKey:  &quot;stacktrace&quot;,
		LineEnding:     zapcore.DefaultLineEnding,
		EncodeLevel:    zapcore.CapitalLevelEncoder,    // å¤§å†™ç¼–ç å™¨
		EncodeTime:     zapcore.ISO8601TimeEncoder,     // ISO8601 UTC æ—¶é—´æ ¼å¼
		EncodeDuration: zapcore.SecondsDurationEncoder,
		EncodeCaller:   zapcore.ShortCallerEncoder,     // çŸ­è·¯å¾„ç¼–ç å™¨
		EncodeName:     zapcore.FullNameEncoder,
	}

	if global.CONFIG.Log.Encoder == &quot;json&quot; {
		return zapcore.NewJSONEncoder(encoderCfg)
	} else {
		return zapcore.NewConsoleEncoder(encoderCfg)
	}
}

func newZapLevel() zap.AtomicLevel {
	levelMap := map[string]zapcore.Level{
		&quot;DEBUG&quot;:  zap.DebugLevel,
		&quot;INFO&quot;:   zap.InfoLevel,
		&quot;WARN&quot;:   zap.WarnLevel,
		&quot;ERROR&quot;:  zap.ErrorLevel,
		&quot;DPANIC&quot;: zap.DPanicLevel,
		&quot;PANIC&quot;:  zap.PanicLevel,
		&quot;FATAL&quot;:  zap.FatalLevel,
	}

	level := zap.NewAtomicLevel()
	if l, ok := levelMap[strings.ToUpper(global.CONFIG.Log.Level)]; ok {
		level.SetLevel(l)
	} else {
		level.SetLevel(zap.InfoLevel)
	}

	return level
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ElementUIè‡ªå®šä¹‰ä¸Šä¼  -ä»¥ä¸Šä¼ å›¾æ ‡åˆ°ä¸ƒç‰›äº‘ä¸ºä¾‹]]></title>
        <id>https://blog.yguilai.com/post/elementui-zi-ding-yi-shang-chuan-yi-shang-chuan-tu-biao-dao-qi-niu-yun-wei-li/</id>
        <link href="https://blog.yguilai.com/post/elementui-zi-ding-yi-shang-chuan-yi-shang-chuan-tu-biao-dao-qi-niu-yun-wei-li/">
        </link>
        <updated>2020-05-19T07:30:51.000Z</updated>
        <summary type="html"><![CDATA[<p>è§£å†³ElementUIä¸Šä¼ ç»„ä»¶æ— æ³•è·å–å†…éƒ¨æ–‡ä»¶åˆ—è¡¨çš„ç¼ºé™·</p>
]]></summary>
        <content type="html"><![CDATA[<p>è§£å†³ElementUIä¸Šä¼ ç»„ä»¶æ— æ³•è·å–å†…éƒ¨æ–‡ä»¶åˆ—è¡¨çš„ç¼ºé™·</p>
<!-- more -->
<pre><code class="language-html">&lt;template&gt;
    &lt;div&gt;
        &lt;el-upload
            action=&quot;#&quot;
            class=&quot;icon-uploader&quot;
            :auto-upload=&quot;false&quot;
            :on-change=&quot;onIcoUploadChange&quot;
            :show-file-list=&quot;false&quot;
            accept=&quot;image/*&quot;
          &gt;
            &lt;img v-if=&quot;imageUrl !== ''&quot; :src=&quot;imageUrl&quot; class=&quot;ico&quot; /&gt;
            &lt;i v-else class=&quot;el-icon-plus&quot; /&gt;
            &lt;div slot=&quot;tip&quot; class=&quot;el-upload__tip&quot;&gt;
              åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼Œä¸”ä¸è¶…è¿‡200kb
            &lt;/div&gt;
          &lt;/el-upload&gt;
          &lt;el-button @click=&quot;upload()&quot;&gt;ä¸Šä¼ &lt;/el-button&gt;
    &lt;/div&gt;
&lt;/ template&gt;

&lt;script&gt;
export default {
    data() {
        return {
            icoFile: null,
            imageUrl: '',
            qiniuToken: ''
        }
    },
    methods: {
        // è·å–ä¸Šä¼ çš„æ–‡ä»¶å¯¹è±¡
        onIcoUploadChange(file, fileList) {
            this.icoFile = file
            // åˆ›å»ºä¸€ä¸ªæœ¬åœ°blobé“¾æ¥ç”¨äºå›¾ç‰‡é¢„è§ˆ
            this.imageUrl = URL.createObjectURL(file.raw)
        },
        // ä¸Šä¼ æ–‡ä»¶åˆ°ä¸ƒç‰›
        async upload() {
            if (this.icoFile === null) {
                this.$message.error('è¯·å…ˆä¸Šä¼ æ–‡ä»¶')
                return
            }

            // åˆ¤æ–­tokenæ˜¯å¦ä¸ºç©º
            if (this.qiniuToken === '') {
                try {
                const { data } = await getQiniuToken()
                this.qiniuToken = data
                } catch (err) {
                this.$message.error(err.message)
                return
                }
            }

            let fileKey = ''

            try {
                const formData = new FormData()
                formData.append('file', this.icoFile)
                formData.append('token', this.qiniuToken)
                const { key } = await uploadImg2Qiniu(formData)
                fileKey = key
                // å‘é€è¯·æ±‚ å°†keyå­˜åˆ°æ•°æ®åº“
                // ...
            } catch (err) {
                this.$message.error(err.message)
            }
        }
    }
}
&lt;/script&gt;

&lt;style lang=&quot;scss&quot; scope&gt;
$icoSize: 64px;

.icon-uploader .el-upload {
  width: $icoSize;
  height: $icoSize;
  position: relative;
  overflow: hidden;
  border: 1px dashed #d9d9d9;
  border-radius: 6px;
  cursor: pointer;
  position: relative;
  overflow: hidden;

  &amp;:hover {
    border-color: #409eff;
  }
}

.icon-uploader .ico {
  width: $icoSize;
  height: $icoSize;
}

.icon-uploader .el-upload .el-icon-plus {
  width: $icoSize;
  height: $icoSize;
  font-size: 20px;
  color: #8c939d;
  line-height: $icoSize;
  text-align: center;
}
&lt;/style&gt;
</code></pre>
<p>è·å–tokenåŠä¸Šä¼ å›¾ç‰‡</p>
<pre><code class="language-js">import request from '@/utils/request'

// è·å–åç«¯ç”Ÿæˆçš„token
export function getQiniuToken() {
  return request({
    url: '/qntoken',
    method: 'GET'
  })
}

export function uploadImg2Qiniu(formdata) {
  return request({
    // è¯¥apiä»ä¸ƒç‰›è·å–, ä¸åŒåœ°åŸŸçš„å­˜å‚¨æ¡¶å¯¹åº”apiä¸åŒ
    url: process.env.VUE_APP_QINIU_UPLOAD_API, 
    method: 'POST',
    headers: {
      'Content-Type': 'multipart/form-data'
    },
    withCredentials: false, // ç¦æ­¢è·¨åŸŸæºå¸¦cookieï¼Œå¸¦cookieåœ¨ä¸ƒç‰›ä¸Šæœ‰å¯èƒ½å‡ºç°è·¨åŸŸé—®é¢˜
    timeout: 30000,
    data: formdata
  })
}
</code></pre>
]]></content>
    </entry>
</feed>
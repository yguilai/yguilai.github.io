<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.yguilai.com</id>
    <title>ç‡•å½’æ¥åšå®¢</title>
    <updated>2020-05-27T07:45:23.378Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://blog.yguilai.com"/>
    <link rel="self" href="https://blog.yguilai.com/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://blog.yguilai.com/images/avatar.png</logo>
    <icon>https://blog.yguilai.com/favicon.ico</icon>
    <rights>All rights reserved 2020, ç‡•å½’æ¥åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[yarn create react-app æŠ¥é”™æ–‡ä»¶åã€ç›®å½•åæˆ–å·æ ‡è¯­æ³•ä¸æ­£ç¡®]]></title>
        <id>https://blog.yguilai.com/post/x1hPVO9h_/</id>
        <link href="https://blog.yguilai.com/post/x1hPVO9h_/">
        </link>
        <updated>2020-05-27T07:29:09.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ€è¿‘å­¦ä¹ react, çœ‹å®˜æ–¹æ–‡æ¡£åˆ©ç”¨yarnæ–°å»ºé¡¹ç›®è¿è¡Œ<code>yarn create react-app my-app</code>ç›´æ¥æŠ¥é”™</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ€è¿‘å­¦ä¹ react, çœ‹å®˜æ–¹æ–‡æ¡£åˆ©ç”¨yarnæ–°å»ºé¡¹ç›®è¿è¡Œ<code>yarn create react-app my-app</code>ç›´æ¥æŠ¥é”™</p>
<!-- more -->
<p>çœ‹ç½‘ä¸Šè§£å†³åŠæ³•å¾ˆå¤šéƒ½æ˜¯ä¿®æ”¹<code>create-react-app.cmd</code>, ç„¶åæ·»åŠ ç¯å¢ƒå˜é‡, æ„Ÿè§‰å¾ˆä¸<code>ä¼˜é›…</code></p>
<p>æŸ¥äº†å¾ˆå¤šèµ„æ–™å, å‘ç°ä¸»è¦åŸå› æ˜¯æˆ‘ç”¨npmå…¨å±€å®‰è£…çš„yarn, å¯¼è‡´yarnçš„binç›®å½•ä¸å®‰è£…ç›®å½•åœ¨ä¸åŒåˆ†åŒºğŸ™„</p>
<p>æŸ¥çœ‹yarnçš„binç›®å½•</p>
<pre><code class="language-bash">yarn global bin
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://blog.yguilai.com/post-images/1590565038111.png" alt="" loading="lazy"></figure>
<p>æŸ¥çœ‹yarnçš„å®‰è£…ç›®å½•</p>
<pre><code class="language-bash">yarn global dir
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://blog.yguilai.com/post-images/1590565172092.png" alt="" loading="lazy"></figure>
<blockquote>
<p>è¿™é‡Œæ˜¯æˆ‘å·²ç»ä¿®æ”¹äº†çš„, åŸæ¥æ˜¯åœ¨Cç›˜</p>
</blockquote>
<p>å¦‚æœå‘ç°binç›®å½•ä¸å®‰è£…ç›®å½•ä¸åœ¨åŒä¸€ä¸ªåˆ†åŒº, å°±å°†yarnçš„å®‰è£…ä½ç½®ä¿®æ”¹åˆ°åŒä¸€åˆ†åŒº</p>
<pre><code class="language-bash">yarn config set global-folder &quot;D:\Develop\yarn\global&quot;
yarn config set cache-folder &quot;D:\Develop\yarn\cache&quot;
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://blog.yguilai.com/post-images/1590565331006.png" alt="" loading="lazy"></figure>
<p>å†è¿è¡Œ<code>yarn create react-app my-app</code>å¯ä»¥å‘ç°å·²ç»æå®šäº†ğŸ‘Œ</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Win10è§£å†³æ— æ³•è°ƒèŠ‚å±å¹•äº®åº¦é—®é¢˜]]></title>
        <id>https://blog.yguilai.com/post/TKVP2Etmw/</id>
        <link href="https://blog.yguilai.com/post/TKVP2Etmw/">
        </link>
        <updated>2020-05-20T12:00:17.000Z</updated>
        <summary type="html"><![CDATA[<p>ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–¹æ³•, å¦‚: é‡è£…é›†æ˜¾é©±åŠ¨ã€ä¿®æ”¹æ³¨å†Œè¡¨, éƒ½æ²¡ç”¨</p>
]]></summary>
        <content type="html"><![CDATA[<p>ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–¹æ³•, å¦‚: é‡è£…é›†æ˜¾é©±åŠ¨ã€ä¿®æ”¹æ³¨å†Œè¡¨, éƒ½æ²¡ç”¨</p>
<!-- more -->
<p>å¦‚æœå®‰è£…äº†TeamViewer, å‘æ—¥è‘µä¹‹ç±»çš„è¿œç¨‹æ§åˆ¶è½¯ä»¶, ä¼šè‡ªåŠ¨å®‰è£…ç›‘è§†å™¨é©±åŠ¨</p>
<p>è§£å†³åŠæ³•:<br>
Win+Ræ‰“å¼€è¿è¡Œçª—å£, è¾“å…¥<code>devmgmt.msc</code>, å›è½¦æ‰“å¼€è®¾å¤‡ç®¡ç†å™¨é¢æ¿, æ‰¾åˆ°ç›‘è§†å™¨</p>
<p>å¯ä»¥å‘ç°ç›‘è§†å™¨é©±åŠ¨æ˜¾ç¤ºä¸º<code>PnP-Monitor(Standard)</code> (å‚å•†ä¸ºTeamViewer) æˆ–è€…<code>Generic Monitor (orayOPMS)</code>(å‚å•†ä¸ºå‘æ—¥è‘µ)<br>
<img src="https://blog.yguilai.com/post-images/1589976540518.jpg" alt="" loading="lazy"></p>
<p>å³é”®é€‰ä¸­å¯¹åº”é©±åŠ¨, æ‰“å¼€<code>å±æ€§</code> &gt; <code>é©±åŠ¨ç¨‹åº</code> &gt; <code>æ›´æ–°é©±åŠ¨ç¨‹åº</code> &gt; <code>æµè§ˆè®¡ç®—æœºä»¥æŸ¥æ‰¾é©±åŠ¨ç¨‹åºè½¯ä»¶</code> &gt; <code>ä»è®¡ç®—æœºçš„è®¾å¤‡é©±åŠ¨ç¨‹åºåˆ—è¡¨ä¸­é€‰å–</code> &gt; é€‰ä¸­<code>é€šç”¨å³æ’å³ç”¨ç›‘è§†å™¨</code>, ç‚¹å‡»ä¸‹ä¸€æ­¥å®‰è£…å³å¯, æœ€å¥½é‡å¯ä¸€ä¸‹ç”µè„‘</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Goæ—¥å¿—åº“Zapä¸lumberjacké…ç½®]]></title>
        <id>https://blog.yguilai.com/post/L_yuiYNgS/</id>
        <link href="https://blog.yguilai.com/post/L_yuiYNgS/">
        </link>
        <updated>2020-05-19T14:20:02.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-go">package core

import (
	&quot;go-gin-api-example/core/global&quot;
	&quot;go.uber.org/zap&quot;
	&quot;go.uber.org/zap/zapcore&quot;
	&quot;gopkg.in/natefinch/lumberjack.v2&quot;
	&quot;os&quot;
	&quot;strings&quot;
)

func initZapLogger() {
	var logger *zap.Logger
	core := zapcore.NewCore(newZapEncoder(), newWriteSyncer(), newZapLevel())

	// set initialize fields
	field := zap.Fields(zap.String(&quot;ApplicationName&quot;, global.CONFIG.App.Name))

	// judge current environment is pro?
	if global.CONFIG.App.Env != &quot;pro&quot; {
		// enable dev mode
		caller := zap.AddCaller()
		development := zap.Development()
		logger = zap.New(core, caller, development, field)
	} else {
		logger = zap.New(core, field)
	}

	// save as a global variable
	global.LOG = logger
}

func newWriteSyncer() zapcore.WriteSyncer {
	if !global.CONFIG.Log.EnableLogFile {
		return zapcore.NewMultiWriteSyncer(zapcore.AddSync(os.Stdout))
	} else {
		logConfig := global.CONFIG.Log
		hook := lumberjack.Logger{
			Filename:   logConfig.File.Path + string(os.PathSeparator) + global.CONFIG.App.Name + &quot;.log&quot;,
			MaxSize:    logConfig.File.MaxSize,
			MaxBackups: logConfig.File.MaxBackups,
			MaxAge:     logConfig.File.MaxAge,
			Compress:   logConfig.File.Compress,
		}
		return zapcore.NewMultiWriteSyncer(zapcore.AddSync(os.Stdout), zapcore.AddSync(&amp;hook))
	}
}

func newZapEncoder() zapcore.Encoder {
	encoderCfg := zapcore.EncoderConfig{
		TimeKey:        &quot;time&quot;,
		LevelKey:       &quot;level&quot;,
		NameKey:        &quot;logger&quot;,
		CallerKey:      &quot;lineNum&quot;,
		MessageKey:     &quot;msg&quot;,
		StacktraceKey:  &quot;stacktrace&quot;,
		LineEnding:     zapcore.DefaultLineEnding,
		EncodeLevel:    zapcore.CapitalLevelEncoder,    // å¤§å†™ç¼–ç å™¨
		EncodeTime:     zapcore.ISO8601TimeEncoder,     // ISO8601 UTC æ—¶é—´æ ¼å¼
		EncodeDuration: zapcore.SecondsDurationEncoder,
		EncodeCaller:   zapcore.ShortCallerEncoder,     // çŸ­è·¯å¾„ç¼–ç å™¨
		EncodeName:     zapcore.FullNameEncoder,
	}

	if global.CONFIG.Log.Encoder == &quot;json&quot; {
		return zapcore.NewJSONEncoder(encoderCfg)
	} else {
		return zapcore.NewConsoleEncoder(encoderCfg)
	}
}

func newZapLevel() zap.AtomicLevel {
	levelMap := map[string]zapcore.Level{
		&quot;DEBUG&quot;:  zap.DebugLevel,
		&quot;INFO&quot;:   zap.InfoLevel,
		&quot;WARN&quot;:   zap.WarnLevel,
		&quot;ERROR&quot;:  zap.ErrorLevel,
		&quot;DPANIC&quot;: zap.DPanicLevel,
		&quot;PANIC&quot;:  zap.PanicLevel,
		&quot;FATAL&quot;:  zap.FatalLevel,
	}

	level := zap.NewAtomicLevel()
	if l, ok := levelMap[strings.ToUpper(global.CONFIG.Log.Level)]; ok {
		level.SetLevel(l)
	} else {
		level.SetLevel(zap.InfoLevel)
	}

	return level
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ElementUIè‡ªå®šä¹‰ä¸Šä¼  -ä»¥ä¸Šä¼ å›¾æ ‡åˆ°ä¸ƒç‰›äº‘ä¸ºä¾‹]]></title>
        <id>https://blog.yguilai.com/post/elementui-zi-ding-yi-shang-chuan-yi-shang-chuan-tu-biao-dao-qi-niu-yun-wei-li/</id>
        <link href="https://blog.yguilai.com/post/elementui-zi-ding-yi-shang-chuan-yi-shang-chuan-tu-biao-dao-qi-niu-yun-wei-li/">
        </link>
        <updated>2020-05-19T07:30:51.000Z</updated>
        <summary type="html"><![CDATA[<p>è§£å†³ElementUIä¸Šä¼ ç»„ä»¶æ— æ³•è·å–å†…éƒ¨æ–‡ä»¶åˆ—è¡¨çš„ç¼ºé™·</p>
]]></summary>
        <content type="html"><![CDATA[<p>è§£å†³ElementUIä¸Šä¼ ç»„ä»¶æ— æ³•è·å–å†…éƒ¨æ–‡ä»¶åˆ—è¡¨çš„ç¼ºé™·</p>
<!-- more -->
<pre><code class="language-html">&lt;template&gt;
    &lt;div&gt;
        &lt;el-upload
            action=&quot;#&quot;
            class=&quot;icon-uploader&quot;
            :auto-upload=&quot;false&quot;
            :on-change=&quot;onIcoUploadChange&quot;
            :show-file-list=&quot;false&quot;
            accept=&quot;image/*&quot;
          &gt;
            &lt;img v-if=&quot;imageUrl !== ''&quot; :src=&quot;imageUrl&quot; class=&quot;ico&quot; /&gt;
            &lt;i v-else class=&quot;el-icon-plus&quot; /&gt;
            &lt;div slot=&quot;tip&quot; class=&quot;el-upload__tip&quot;&gt;
              åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼Œä¸”ä¸è¶…è¿‡200kb
            &lt;/div&gt;
          &lt;/el-upload&gt;
          &lt;el-button @click=&quot;upload()&quot;&gt;ä¸Šä¼ &lt;/el-button&gt;
    &lt;/div&gt;
&lt;/ template&gt;

&lt;script&gt;
export default {
    data() {
        return {
            icoFile: null,
            imageUrl: '',
            qiniuToken: ''
        }
    },
    methods: {
        // è·å–ä¸Šä¼ çš„æ–‡ä»¶å¯¹è±¡
        onIcoUploadChange(file, fileList) {
            this.icoFile = file
            // åˆ›å»ºä¸€ä¸ªæœ¬åœ°blobé“¾æ¥ç”¨äºå›¾ç‰‡é¢„è§ˆ
            this.imageUrl = URL.createObjectURL(file.raw)
        },
        // ä¸Šä¼ æ–‡ä»¶åˆ°ä¸ƒç‰›
        async upload() {
            if (this.icoFile === null) {
                this.$message.error('è¯·å…ˆä¸Šä¼ æ–‡ä»¶')
                return
            }

            // åˆ¤æ–­tokenæ˜¯å¦ä¸ºç©º
            if (this.qiniuToken === '') {
                try {
                const { data } = await getQiniuToken()
                this.qiniuToken = data
                } catch (err) {
                this.$message.error(err.message)
                return
                }
            }

            let fileKey = ''

            try {
                const formData = new FormData()
                formData.append('file', this.icoFile)
                formData.append('token', this.qiniuToken)
                const { key } = await uploadImg2Qiniu(formData)
                fileKey = key
                // å‘é€è¯·æ±‚ å°†keyå­˜åˆ°æ•°æ®åº“
                // ...
            } catch (err) {
                this.$message.error(err.message)
            }
        }
    }
}
&lt;/script&gt;

&lt;style lang=&quot;scss&quot; scope&gt;
$icoSize: 64px;

.icon-uploader .el-upload {
  width: $icoSize;
  height: $icoSize;
  position: relative;
  overflow: hidden;
  border: 1px dashed #d9d9d9;
  border-radius: 6px;
  cursor: pointer;
  position: relative;
  overflow: hidden;

  &amp;:hover {
    border-color: #409eff;
  }
}

.icon-uploader .ico {
  width: $icoSize;
  height: $icoSize;
}

.icon-uploader .el-upload .el-icon-plus {
  width: $icoSize;
  height: $icoSize;
  font-size: 20px;
  color: #8c939d;
  line-height: $icoSize;
  text-align: center;
}
&lt;/style&gt;
</code></pre>
<p>è·å–tokenåŠä¸Šä¼ å›¾ç‰‡</p>
<pre><code class="language-js">import request from '@/utils/request'

// è·å–åç«¯ç”Ÿæˆçš„token
export function getQiniuToken() {
  return request({
    url: '/qntoken',
    method: 'GET'
  })
}

export function uploadImg2Qiniu(formdata) {
  return request({
    // è¯¥apiä»ä¸ƒç‰›è·å–, ä¸åŒåœ°åŸŸçš„å­˜å‚¨æ¡¶å¯¹åº”apiä¸åŒ
    url: process.env.VUE_APP_QINIU_UPLOAD_API, 
    method: 'POST',
    headers: {
      'Content-Type': 'multipart/form-data'
    },
    withCredentials: false, // ç¦æ­¢è·¨åŸŸæºå¸¦cookieï¼Œå¸¦cookieåœ¨ä¸ƒç‰›ä¸Šæœ‰å¯èƒ½å‡ºç°è·¨åŸŸé—®é¢˜
    timeout: 30000,
    data: formdata
  })
}
</code></pre>
]]></content>
    </entry>
</feed>